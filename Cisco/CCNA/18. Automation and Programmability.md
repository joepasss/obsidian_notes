
## Introduction to Automation

### Traditional vs. Controller-based Networking

#### Traditional Network Management

In traditional networking environments, you manage each of your networking devices, such as your Cisco routers and switches, one-by-one.
This is, of course, labor intensive, and administrators are prone to makeing mistakes to the configuration of a device because they must manually input each command.

With traditional networking environments, you typically take the following actions for each network device over the lifetime of the device:

1. Install the network device into the networking environment.
2. Apply an initial configuration to the device so that it functions as needed.
3. Over time, apply updates to the configuration.
4. Upgrade the software on the device as needed.
5. Monitor the overall performance of the device and events that occur on the device with protocols such as Simple Network Management Protocol (SNMP) and NetFlow.

For example, if a new IOS becomes available that needs to be applied to all your switches, you are looking at quite a bit of time to perform the upgrade: you have to back up the configuration of the device, back up the old IOS of the device, add the new IOS to the device, and ensure that the device is booting that IOS.

Also, for each configuration change that needs to be made to your network devices, you need to console into or remote into the device with telnet or Secure Shell (SSH), and then apply the configuration change. Then you must disconnect and then connect to the next device to apply the configuration change. And you must do this for all your devices.

**Some key points to remeber about management of traditional networks**
* The focus of the network administrator is on each individual device.
	* The administrator must connect to each device and apply the change to that device
* The configuration change is inputted manually by the administrator.
	* This means that there is high potential for configuration errors.
* Finally, traditional management involves using backlisting as the security model, which means that everything is allowed unless you disallow it.

#### Controller-based Networking

Controller-based networking takes advantage of automation technologies that are used to apply configuration changes to multiple devices at one time.

The *controller* software component or appliance automates configuration changes on the network and handles the deployment of configuration changes to multiple devices simultaneously.

With automation, when a new device is added to the network, it locates an initial configuration that needs to be applied and then applies the configuraiton, without needing the administrator's intervention.

Configuration can also be applied based on *profiles*, such as a quality of service (QoS) profile or an authentication, authorization, and accounting (AAA) profile.
You can also automate changes to devices through the use of scripts such as Cisco TLC or Python scripts executing on the devices.

You can use automation for a number of different taskes.
For example, if you needed to perform an upgrade on a device, you could use automation to check what software image exist on the deivce, and if it determines that the old version needs replacing, you can automate the upgrade procedures to execute on that device.
Again, this is all done without the administrator actually visiting the device.
You can also use automation to schedule specific tasks or operations on the device and automate troubleshooting procedures if there is a problem with a device.

**Key points about controller-based network management**
* The focus of the administrator is on the entire network. Changes can be applied to multiple devices at once.
* The administrator inputs changes into policy elements that are then applied to multiple devices automatically.
* A whitelisting security model is used: everything is blocked unless you allow it.

### Benefits of Automation

1. Companies can reduce their support staff and save on staffing funds by automating the may tasks that technicians would traditionally need to perform by visiting each device.
2. automation offers time savings. With traditional networking, it takes quite some time to apply configuration changes to multiple devices. In most cases administrators would need to travel to the location of each device to apply the change
3. You can guarantee consistency in your configurations. With automation, you create the script and instruct the controller to deploy that to the devices; each device receives the same configuration.

### Understanding Planes

All Cisco devices have three planes within the archiecture of the device, with each plane performing a specific function on the device.
The planes are known as the *control plane*, *data plane*, and *management plane*.

#### Control plane

The control plane is responsible for running different protocols on the device.
By running protocols, the control plane learns information about the network and then stores that information in tables.
For example, while running a routing protocol such as Open Shortest Path First (OSPF), the control plane would learn of routes and then store those routes in the routing table.
The control plane could populate the MAC address table, routing tables, and the ARP table, among others.

The control plane runs the routing protocols, handles the exchange of routing information, and makes decisions as to what goes into the routing table.
Although the control plane executes logic to create and populate these tables, the tables are physically stored close to where they used (in the data plane).

#### Data Plane

The data plane is responsible for storing the information in the tables and making decisions based on the information contained in the tables.
The data plane is also known as the forwarding plane, because this plane contains all logical and physical components that control the forwarding of a frame or packet.
For example, when a packet enters the router, the data plane looks at the routing table to determine where to forward the packet before forwarding it to its destination.

Note that features such as packet inspection, classifications for QoS, and access control lists (ACLs) would be processed in the data plane.

#### Management Plane

The mangement plane runs the components we use to manage the devices, such as the management protocols of telnet or SSH.
If also contains the management ports, such as the console port  and the auxiliary port used to manage the device.
The management plane authenticates anyone who tries to access the device, authorized actions of individuals, and provides accounting features.

---

## Software-Defined Networking

To achieve automation (controller-based networking), you use software-defined networking (SDN).
In SDN, software is responsible for applying configuration changes to devices on the network. Through this software, you are able to administer all devices on the network from a central point.

The SDN controller can be implemented in a number of ways

* As software installed on a server
* As an appliance that contains the controller inside
* As a remote controller located in the cloud

No matter how the controller is implemented, the controller uses tools such as Puppet, Chif, and Ansible to help automate changes on the network.

You launch the GUI and then choose the devices you want to make changes to. Then select the settings to be applied to each of the devices. The controller then applies those changes to those devices.

### Software-Defined Architectures

#### Underlay Network

The underlay network contains all of your regular network components, such as routers.
When building an SDN enviornment, your first step is to ensure that all network devices have the appropriate protocols and features configured to enable network communication to occur and to enable access to the network devices.

This means that you must configure all IP addresses on the interfaces, ensure that the interfaces are enabled, and configure routing between the broadcast domains of the network.
you must use an open standard protocol such as OSPF, Border Gateway Protocol (BGP), or Intermediate System-Intermediate System (IS-IS) as the routing protocols.

#### Overlay Network

The overlay network is the logical network that runs on top of the traditional network devices (the underlay network).
The overlay network includes the *virtual networks* that are created on top of the underlay network that uses virtual technologies such as virutal routing and forwarding (VRF), multiprotocol label switching virtual private network (MPLS VPN), and Virtual Extensible LAN (VXLAN).

#### SDN Fabric

The *SDN fabric* includes all the components that make up the SDN environment, including the underlay network and overlay network.
The SDN fabric is made up of the physical network devices that are contained within the underlay network and are controlled by the SDN controller, which is also part of the SDN fabric.

### Separation of Planes

When implementing and SDN model, you are making changes to the location of the control plane.
With traditional networking, the control plane resides on the device with the data plane, but with SDN networking, the control plane follows a centralzied model by which it is run on the SDN controller.

The SDN application will communicate with the SDN controller for two reasons: to send out configuration changes to the networking devices, and to receive updated information on the configuration of the devices so that the configuration can be mapped in the SDN application.

As changes are made through the SDN application, they are communicated to the controller, which then sends those changes to each of the networking devics.
Separating these components enables administrators to deploy changes throughout the network in a timely fashion.

---

## Campus Device Management vs. Cisco DNA Center

When many of us think of *campus device management*, we think of the traditional methods used to manage configuration changes to our Cisco devices.
We console into the device or remotely manage the device via SSH, then apply the configuration changes needed, and then disconnect from the device.

The *Cisco Digital Network Architecture (DNA) Center* is a physical appliance you can purchase that provides SDN capabilities (automation).
The DNA Center offers a central point to manage your network devices, automate configuraiton changes, and perform analysis of the devices.
SDN and the DNA Center offer *intent-based networking*, which means that they use software to control the networking environment.

When you purchase the Cisco DNA Center appliance, it continas a built-in Application Policy Infrastrucure Controller (APIC), which is the SDN controller component build into the DNA Center.
The DNA Center also includes a build-int Network Data Platform (NDP) component, which is responsible for analyzing problems, displying information about the problems, and then offering solutions to the problems.

---

## North-bound and South-bound APIs

An *application programming interface (API)* is application logic that contains a number of functions that perform different actions.
In SDN networking, APIs are critical to move information from the application you use to manage changes to the controller, and then to move data from the controller to the network devices.

The API is the *logic* of how to move the data, but the data itself is in a *data format* that enables it to be shared across applications and devices.

The north-bound API is responsible for moving data between the application and the controller, while the south-bound API is responsible for moving data betweeen controller and the network devices.

![[Pasted image 20250923060605.png]]

APIs use a client/server architecture in which each execution requires a client and a server.
The client is the component receiving the data, and the server is the component sending the data.
So with the north-bound API, the server is the application and the client is the controller.
With the south-bound API, the server is the controller and the client is the network device.

There are two different types of APIs: internal APIs and a web service APIs.
An internal API is used to share data between applications on a system, while a web service API is used to exchange data between devices across the network or Internet.

---

## Exchanging Data

In SDN networking, configuration settings need to be exchanged between the applications you use to apply configuration settings to the devices, the SDN controller, and the network devices.

### REST-based APIs

*Representational State Transfer (REST) API* is use mostly in the north-bound API.
In REST-based APIs, HTTP methods perform create, read, update, and delete (CRUD) actions against the data.

* **GET**
	* Reads data from the source
* **PUT**
	* Update data an existing record within the data
* **POST**
	* Create new data
* **DELETE**
	* delete record from the data

### Data Formats

Data needs to be in a format that facilitates it being shared between platforms, applications, and devices.

#### XML Data Format

The Extensible Markup Language (XML) is a common format for data that needs to be exchanged so that the data is understood at the destination.

![[Pasted image 20250923061257.png]]

#### JSON Data Format

XML was the data format for exchaning information between environments for many years, but all of the opening and closing of the tags added to the amount of data that wes being transmitted.

A new data format was needed in order to minimize the amount of data being delivered: JavaScript Object Notation (JSON)

![[Pasted image 20250923061446.png]]

### Configuration Management Technologies

Applications communicate with SDN controllers, whitch then send the configuration changes to network devices.

These applications are called *configuration management systems*, and they are used to automate the configuration changes to the network devices.

The configuration management system uses scripts that you develop to apply configuration changes to multiple devices simultaneously.
Once the script is created, you can use the GUI of the configuration management system to schedule a task that runs the script on the devices, or you can manually apply the configuration change to be applied to the device.

> The configuration management application uses the north-bound API to send the configuration changes to the controller, and then the controller sends the changes to the device using the south-bound API.

#### Puppet

Puppet uses a master/agent topology, in which the master is the controller and you install an agent on each network device that you want to manage.

Puppet uses a *pull model*, which means that the agent checks with the master (controller) at regular intervals to see if any tasks need to be run. If it finds such tasks, the agent pulls the script (known as a *manifest file*) from the master and runs it on the device.

The scripting language that is used with Puppet is Ruby, and the communication channel for the master to talk to the device is TCP port 8140

#### Chef

Chef is similar to Puppet in the sense that it is a master/agent topology as well and also checks for tasks need to be run. (diff: manifest file -> cookbook)

Chef uses Ruby as a scripting language as well, with network communication using TCP port 10002

#### Ansible

Ansible is a little differnt from Puppet and Chef because it is agentless.

You do not need to install an agent on the device because Ansible uses a push model, where the master (the controller) pushes the configuration change to the device. Ansible is a Python tool that uses the YAML lanaguage to create *playbook*, which is the file that contains the instructions that need to be executed on the device after it is pused to the device by the master.

Ansible uses SSH to communicate with the device and apply the configuration. so SSH needs to be configured on the devices.

---
