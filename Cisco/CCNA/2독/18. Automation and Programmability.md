
## Introduction to Automation

### Traditional vs. Contoller-based Networking

#### Traditional Network Management

In traditional networking environments, you manage each of your networking devices.
This is, labor intensive, and administrators are prone to making mistakes to the configuration of a device because they must manually input each command.

With traditional networking environments, you typically take the following actions for each network device over the lifetime of the deivce:

1. Install the network device into the networking environment
2. Apply an initial configuration to the device so that it functions as needed.
3. Over time, apply updates to the configuration.
4. Upgrade the software on the device as needed.
5. Monitor the overall performance of the device and events that occur on the device with protocols such as SNMP and NetFlow.

* The focus of the network administrator is on each individual device.
* The administrator must connect to each device and apply the change to that device.
* The configuraiton change is inputted manually by the administrator. This means there is high potential for configuration errors.
* Finally, traditional management involves using blacklisting as the security model, which means that everything is allowed unless you disallow it.

#### Controller-based Networking

Controller-based networking takes advantage of automation technologies that are used to apply configuration changes to multiple devices at one time.

The *controller* software component or appliance automates configuration changes on the network and handles the deployment of configuration changes to multiple devices simultaneously.

With automation, when a new device is added to the network, it locates an inital configuration that needs to be applied and then applies the configuration, without needing the administrator's intervention.
Configuration also be applied based on *profiles*, such as a quality of service (QoS) profile or an authentication, authorization, and accounting (AAA) profile. You can also automate changes to devices through the use of scripts such as Cisco TLC or Python scripts executing on the devices.

You can use automation for a number of different tasks. For example, if you needed to perform an upgrade on a device, you could use automation to check what software image exists on the deivce, and if it determines that the old version needs replacing, you can automate the upgrade procedures to execute on that device.

* The focus of the administrator is on the entire network. Changes can be applied to multiple devices at once.
* The administrator inputs changes into policy elements that are then applied to multiple devices automatically
* A whitelisting security model is used: everything is blocked unless you allow it.

### Benefits of Automation

First, companies can reduce their support staff and save on staffing funds by automating the many tasks that technicians would traditionally need to perform by visiting each device.

Second, automation offers time savings. With traditional networking, it takes quite some time to apply configuration changes to multiple devices. In most cases administrators would need to travel to the location of each device to apply change.

Finally, you can guarantee consistency in your configurations. With automation, you create the script and then instruct the controller to deploy that to the devices; each device receives the same configuration.

### Understanding Planes

All Cisco devices have three planes within the architecture of the device, with each plane performing a specific function on the device. The planes are known as the *control plane*, *data plane*, and *management plane*.

#### Control Plane

The control plane is responsible for running the different protocols on the device, such as routing protocols, layer 2 protocols, and protocols such as Dynamic Host Control Protocl (DHCP), if it is configured.
By running these protocols, the control plane learns information about the network and then stores that information in tables.

For example, while running a routing protocol such as Open Shortest Path First (OSPF), the control plane would learn of routes and then store those routes in the routing table. The control plane could populate the MAC address table, routing tables, and the ARP table, among others.

The control plane runs the routing protocol, handles the exchange of routing information, and makes decisions as to what goes into the routing table.
Although the control plane executes logic to create and populate these tables, the tables are physically stored close to where they used, in data plane

#### Data Plane

The data plane is responsible for storing the information in the tables and making decisions based on the information contained in the tables.

The data plane is also known as the forwarding plane, because this plane contains all logical and physical components that control the forwarding of a frame or packet.
For example, when a packet enters the router, the data plane looks at the routing table to determine where to forward the packet before forwarding it to its destination.

Note that features such as packet inspection, classifications for QoS, and access control lists (ACLs) would be processed in the data plane.

#### Management Plane

The management plane runs the components we use to manage the devices, such as the management protocols of telnet or SSH.
It also contains the management ports, such as the console port and the auxiliary port used to manage the device. The management plane is also responsible for AAA functionality if it is being used.
For example, the management plane authenticates anyone who tries to access the device, authroizes actions of indificuals, and provides accounting features.

---

## Software-Defined Networkng

To achieve automation (controller-based networking), you use software-defined networking (SDN).

In SDN, software is responsible for applying configuration changes to devices on the network. Through this software you are able to administer all devices on the network from a central point.

The *SDN controller* drives the automation an applies the changes to the devices on the network.

The SDN controller can be implemented in a number of ways:

* As software installed on a server
* As an appliance that contains the controller inside
* As a remote controller located in the cloud

No matter how the controller is implemented, the controller uses tools such as Puppet, Chef, and Ansible to help automate changes on the network.

### Software-Defined Architectures

#### Underlay Network

The underlay network contains all of your regular network components, such as routers.

When building an SDN environment, your first step is to ensure that all network devices have the appropriate protocols and features configured to enable network communication to occur and to enable access to the network devices.
This means that you must configure all IP addresses on the interfaces, ensure that the interfaces are enabled, and configure routing between the broadcast domains of the network.

#### Overlay Network

The overlay network is the logical network that runs on top of the traditional network devices (the underlay network).

The overlay network includes the *virtual networks* that are created on top of the underlay network that uses virtual technologies such as virtual routing and forwarding (VRF), multiprotocol label switching virtual private network (MPLS VPN), and Virtual Extensible LAN (VXLAN).

#### SDN Fabric

The *SDN fabric* includes all the components that make up the SDN environment, including the underlay network and overlay network.

The SDN fabric is made up of the physical network devices that are contained within the underlay network and are controlled by the SDN controller which is also part of the SDN fabric.

### Separation of Planes

When implementing an SDN model, you are making changes to the location of the control plane.
With traditional networking, the control plane resides on the device with the data plane, but with SDN networking, the control plane follows a centralized model by which it is run on the SDN controller. The SDN application will communicate with the SDN controller for two reasons: to send out configuration changes to the networking devices, and to receive updated information on the configuration of the devices so that the configuration can be mapped in the SDN application.

As changes are made through the SDN application, they are communicated to the controller, which then sends those changes to each of the networking devices.
Separating these components enables administrators to deploy changes throughout the network in a timely fashion

---

## Campus Device Mangement vs. Cisco DNA Center

When many of us think of *campus device management*, we think of the traditional methods used to manage configuration changes to our Cisco devices.
We console into the device or remotely manage the device via SSH, then apply the configuraiton changes needed, and then disconnect from the device. If we need to apply the configuration change to ten different devices, we repat those steps with each device.

The Cisco *Digital Network Architecture (DNA)* Center is a physical appliance you can purchase that provides SDN capabilities (automation).
The DNA Center offers a central point to manage your network devices, automate configuration changes, and perform analysis of the devices.
SDN and the DNA Center offer *intent-based networking*, which means that they use software to control the networking environment.

---

## North-bound and South-bound APIs

An *application programming interface (API)* is application logic that contains a number of funtions that perform different actions.

In SDN networking APIs are critical to move information from the application you use to manage changes to the controller, and then to move data from the controller to the network devices.
The API is the *logic* of how to move the data, but the data itself is in a *data format* that enables it to be shared across applications and devices.

The north-bound API is responsible for moving data between the application and the controller, while the south-bound API is responsible for moving data between the controller and the network devices.
![[Pasted image 20251117062149.png]]

APIs use a client/server architecture in which each execution requires a client and a server.
The client is the component receiving the data, and the server is the component sending the data.

So with the north-bound API, the server is the application and the client is the controller.
With the south-bound API, the server is the controller and the client is the network device.

There are two different types of APIs: *internal API*s and a *web service API*s.
An internal API is used to share data between applications on a system, while a web service API is used to exchange data beteween devices across the network or Internet.

---

## Exchaning Data

### REST-based APIs

Representational State Transfer (REST) API is used mostly in the north-bound API.
In REST-based APIs, HTTP methods perfom create, read, update, and delete (CRUD) actions against the data.

* GET
	* Used to perfom a call that *reads* data from the source.
* PUT
	* Used to *update* an existing record within the data
* POST
	* Used to *create* a new record within the data
* DELETE
	* Used to *delete* a record from the data.

### Data Formats

API is the action that is performed on data, but the data needs to be in a format that facilitates it being shared between platforms, applications, and devices.

#### XML Data Format

The Extensible Markup Language (XML) is a common format for data that needs to be exchanged so that the data is understood at the destination.

```
<Books>
	<Book ISBN="1260026051">
		<Title>something</Title>
		<Price>12.34</Price>
	</Book>
</Books>
```

#### JSON Data Format

JavaScript Object Notation (JSON) is considered a lightweight data exchange protocol compared to XML.

```
{
	"books": [
		{
			"title": "somthing",
			"price": "12.34"
		}
	]
}
```

### Configuration Management Techonologies

#### Puppet

Puppet uses a master/agent topology, in which the master is the controller and you install an agent on each network device that you want to manage.

Puppet uses a *pull model*, which means that the agent checks with the master (controller) at regular intervals to see if any taks need to be run.
If it finds such tasks, the agent pulls the script (known as a *manifest file*) from the master and runs it on the device.

The scripting language is used with Puppet is Ruby, and the communication channel for the master to talk to the devices is TCP port 8140.

#### Chef

Chef is similar to Puppet in the sense that it is a master/agent topology as well and also checks for tasks that need to be run.
Again, if it finds such tasks, the agent pulls the script of changes (known as a *cookbook* in this example) from the master (controller) and applies the configuration changes.

Chef uses Ruby as a scripting language as well, with network communication using TCP port 10002.

#### Ansible

Ansible is a little different from Puppet and Chef because it is agentless.

You do not need to install an agent on the device because Ansible uses a push model, where the master (the controller) pushes the configuration change to the device.

Ansible is a Python tool that uses the YAML langauge to create a *playbook*, which is the file that contains the instructions that need to be executed on the device after it is pushed to the device by the master.

Ansible uses SSH to communicate with the device and apply the configuration, so SSH need to be configured on the devices.

---

## Chapter Review

---

## Quick Review

### Introduction to Automation

* Traditional network management involves applying a configuration change to each device one at a time.
* Controller-based networking involves using automation technologies to send a change to the controller and have it apply the change to all devices simultaneously.
* The control plane is responsible for running routing and features to collect information to populate into tables used by the device.
* The data plane, also known as the forwarding plane, uses the information in tables to make forwarding or routing decisions.
* The management plane handles management access and AAA fuctions of authentication, authorization, and accounting.

### Software-Defined Networking

* In SDN, software is used to apply configuration changes to devices on the network.
* The SDN controller applies the configuration changes to devices on the network.
* There are three components to the SDN architecture: the underlay network, which is the network devices with protocols and features configured such as IP addresses and routing protocls; the overlay network, which is the virtual networks that are created in software; and the SDN fabric, which is all network devices and the SDN controller.

#### Campus Device Management vs. Cisco DNA Center

* DNA Center is an appliance you purchase that contains the SDN controller for your network.
* The north-bound API is used to send the configuration information from the application to the controller.
* The south-bound API is used to send the configuration information from the controller to the device.

### Exchanging Data

* The JSON, XML data format is used to exchange information between environments
* The REST API is the application logic that executes takes over HTTP.
* The REST API uses HTTP verbs to perform operations (CRUD)

---

### Questions

1.  Which of the following is a valid format for JSON data?

A. "empid":"126","name":"Bob Smith","phone":"555-5555"
**B. {"empid":"126","name":"Bob Smith","phone":"555-5555"}**
C. empid: "126",name: "Bob Smith",phone: "555-5555"
D. {empid: "126",name: "Bob Smith",phone: "555-5555"}

2.  What API is used to communicate configuration information between the controller and the network device?

A. REST API
B. Web API
**C. South-bound API**
D. North-bound API: controller - application

3.  What component within the software-defined networking architecture contains the virtual networks?

A. South-bound API
B. Underlay network
**C. Overlay network**
D. Puppet

4.  Which of the following are characteristics of traditional network management? (Choose three.)

**A. The administrator focuses on the device.**
B. The administrator focuses on the network.
**C. The administrator inputs the configuration manually.**
D. The administrator places configuration in policies.
E. It uses a whitelisting security model.
**F. It uses a blacklisting security model.**

5.  Which configuration management application uses YAML as the scripting language?

**A. Ansible**
B. Puppet
C. Chef
D. Cisco DNA Center

6.  Which of the following are characteristics of controller-based networking? (Choose three.)

A. The administrator focuses on the device.
**B. The administrator focuses on the network.**
C. The administrator inputs the configuration manually.
**D. The administrator places configuration in policies.**
**E. It uses a whitelisting security model.**
F. It uses a blacklisting security model.

### Perfomance-based Questions

1.  Using the following exhibit, write each of the characteristics listed on the left side of the screen into the correct category on the right.

![[Pasted image 20251117064642.png]]

* **Puppet**
	* Communicates using TCP port 8140
	* Uses Ruby as a language
	* Stores configuration elements in a maifest file
* **Chef**
	* Communicates using TCP port 10002
	* Uses Ruby as a language
* **Ansible**
	* Communicates using SSH
	* Uses YAML as the configuraiton language
