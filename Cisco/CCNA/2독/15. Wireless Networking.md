
## Introducing Wireless

In a wireless network, radio frequencies (RFs) transmit data from one device to another through the air.
Wireless networks are especially useful in offices, where they enable workers to use laptops anywhere throughout the location to connect to the network instead of using only desktop computers hardwired to the network. Most laptops have wireless network cards installed to enable wireless.

When a system sends data on a wireless network, the transeiver built into the computer's wireless network card encodes the data (1s and 0s) into radio waves. The transiver then passes the data to the wireless antenna on the device to send the radio waves through the air to the receiving device, where its antenna picks up the radio waves and apsses them to the transiver. Then the transiver converts the radio waves to data (1s and 0s) for the receiving device to read.

### Wireless Concepts

#### Wireless Access Point

The WAP device, commonly referred to as just *access point*, adds wireless capabilities to your network.
It is responsible for sending and receiving radio waves to enable  wireless devices to communicate with other devices on the local area network (LAN).

A wireless device sends data to a device on the LAN, by first sending the data wirelessly to the wireless access point, which then passes the data on to the device that is connected to the wired network.

**Typical setup of a network that uses a WAP**
![[Pasted image 20251110164335.png]]

#### Wireless Clients

A wireless client is any device that has a wireless network card installed and that communicates with an RF signal. The wireless client, also known as a wireless station, typically connects to the network via the WAP.

To connect your wireless clients to a wireless network, you need a WAP which has antennas that send and receive the wireless signal between the wireless client and access point, but the access point also has a connection to the wired network so that wireless clients can access resources on the wired network.

Most home users have a wireless router, which performs the function of an access point, but also includes other features such as Network Address Translation (NAT), a network firewall, and Dynamic Host Configuration Protocol (DHCP) services.

#### Wireless LAN Controller

Enterprise networks that have a number of access points (APs) can have multiple APs configured from a central point by using a wireless LAN controller (WLC).

The WLC can also provice centralized authentication for all your network's APs if you configure the WLC to use a central Remote Authentication Dial-In User Service (RADIUS) server.

The WLC connects to the network in the same way the AP does, they both connect to a network switch, which is a wired device on the network. Once all of the APs and the WLC are connected to the network, the WLC can be used to deploy configuration settings to the APs or to perform other administrative tasks such as software upgrades.

**Access points and a wireless LAN controller connect to the switch**
![[Pasted image 20251110165513.png]]

Notice the APs on floors 2, 3 and 4 that provide wireless access to the devices on those floors.
Also notice that each AP has a wired Ethernet connection to a switch; this switch is known as the *distribution system (DS)*. The DS could be a dedicated switch for WAPs to connect to, or it could be a switch for your wired network that all other wired devices connect to.

Each of the APs will have its own management IP address, and you can remotely connect to that AP and change the configuration settings. Or you can add a WLC to the network that is used to centrally manage the configuration of all the APs.
Notice that the WLC is located on floor 1 and is connected to the switch, or distribution system, as well.

The port on the WLC that connects to the switch (the distribution system) is the *distribution port*. Because the WLC sends a lot of data through that port, including traffic destined for the APs in the CAPWAP (Control and Provisioning of Wireless Access Points) tunnel and traffic from the wireless clients, it is common for a WLC to have multiple distribution ports that connect the WLC to the distribution system (the switch).
These distribution ports always operate as trunk ports (instead of access ports) because they need to carry traffic for all of the virtual LANs (VLANs).
It is also common to combine the distribution ports together in a *link aggregation group (LAG)*, which combines the bandwidth of all ports in the group.
The LAG also provides load balancing on the ports so that no one port is over-utilized and fault tolerance on the link can handle the workload if one port fails the other ports in the group.

#### Putting It All Together

**A single AP providing multiple wireless networks**
![[Pasted image 20251110171757.png]]

You can see a Cisco switch that contains two VLANs: VLAN 10 for the accounting department and VLAN 20 for the marketing department.

To give each department wireless access, we connect an access point to the switch, but notice in the figure that the access point is connected to a port that is outside the two VLANs. This is because we need to AP to deliver traffic for both VLANs. So we connect the AP to the switch, and then configure the port the AP isconnected to as a trunk port, so that it can carry traffic for VLAN 10 and VLAN 20.

To configure AP, you connect to the AP, either through the CLI or the web GUI and configure two *Service Set Identifiers (SSIDs)*. The SSID is the name of the wireless network that the clients will choose when they see a list of available networks; this is the wireless network that the clients will connect to.
Each AP can provide multiple wireless networks or multiple SSIDs. In this example, we configure an SSID for accounting (ACCT_WLAN) and an SSID for marketing (MKT_WLAN) and then assign each SSID to the appropriate VLAN.

#### Antenna Types

* **Omnidirectional**
	* Sends the radio signals in all directions to cover a broad range or area
* **Semi-directional**
	* Sends radio signals in a single direction, but the signal has a wide range of coverage in that direction.
* **Highly directional**
	* Also known as *unidirectional*, this antenna sends radio signals in a single direction covering a very small area.

### Wireless Network Types

You can create two major modes of wireless networks: ad hoc mode or infrastructure mode. Each of these is known as a wireless mode, and each has its advantages.

With *ad hoc* mode, the wireless device, such as a laptop, is connected to other wireless in a peer-to-peer environment without the need for a WAP.
With *infrastructure* mode, the wireless clients are connected to a central device, which is a WAP. The wireless client sends data to the AP, which then sends the data on to the destination.

**Infrastructure mode**
![[Pasted image 20251110173253.png]]

The advantage of ad hoc mode is that you don't need to purchase the AP; the benefit of infrastructure mode is that when you use the WAP, you get control who can connect to the wireless network, and many devices can connect to the AP at one time to share information.

### Wireless Terminology

#### Basic Service Set (BSS)

This refers to a wireless network that has a single AP. All wireless clients connect to the single AP to gain access to the network.

#### Basic Service Set Identifier (BSSID)

This is the MAC address of the WAP. When you use wireless security tools to access the security of a wireless network, you will notice that the tools identify the AP MAC with the label "BSSID".
When you use many of the command line security tools, you usually specify the AP you are testing with the `--bssid` switch.

#### Service Set Identifier (SSID)

This is the name of the wireless network. When configuring the AP, you will need to configure the name of the wireless network by setting the SSID setting.

#### Distribution System (DS)

This is the network switch that connects the AP to the LAN.

#### Extended Service Set (ESS)

ESS comprises a number of access points, configured with the same SSID, that are poositioned at different points throughout the building to service wireless clients within that area.

**compares a BSS with an ESS**
![[Pasted image 20251110174000.png]]

Creating an ESS requires the following:

* Each AP must be configured with the same SSID.
* Each AP must be configured with a different, non overlapping, channel.
* The AP must cover areas that overlap by 10 percent, so that roaming wireless clients do not lose a connection.

### Wireless Standards

#### 802.11a

The 802.11a wireless standard is an older standard that runs at the 5 GHz frequency.
802.11a devices can transmit data at 54 Mbps and are incompatible with 802.11b and 802.11g devices.

#### 802.11b

The 802.11b wireless standard has a transfer rate of 11 Mbps while using a frequency of 2.4 GHz.
These devices are compatible with 802.11g/n devices because they run at the same frequency and follow the Wi-Fi standard.

#### 802.11g

The 802.11g wireless standard is a newer standard that was designed to be compatible with 802.11b, but is also increases the transfer rate.
The transfer rate of 802.11g devices is 54 Mbps using a frequency of 2.4 GHz.
All 802.11g devices are compatible with 802.11b/n devices because they all follow the Wi-Fi standard and run at the same frequency of 2.4 GHz.

#### 802.11n

The 802.11n wireless standard is a wireless standard that came out in late 2009. The goal of 802.11n is to increase the transfer rate beyond what current standard such as 802.11g support.
802.11n transfer rates up to 600 Mbps.

To help accomplish this, 802.11n introduced two new features: multiple input, multiple output (MIMO) and channel bonding.
MIMO uses multiple antennas to achieve more throughput than can be accomplished with only a single antenna.
Channel bonding enables 802.11n to transmit data over two non-overlapping channels to achieve more throughput.
802.11n is designed to be backword compatible with 802.11a, 802.11b, and 802.11g and can run at the 2.4 GHz or 5 GHz frequency.

#### 802.11ac

The 802.11ac wireless standard was approved in 2014 and is considered a high-troughput wireless standard that runs on the 5 GHz frequency range.

The 802.11ac standard offers throughput of potentially 1 Gbps by incresing the channel width and offering similar features to the 802.11n standard, such as MIMO and multi-user MIMO (MU-MIMO), which involves enabling multiple transmitters to send separate signals and multiple receivers to receive separate signals at the same time.

#### Compare Wireless Standards

| Standard | Freq      | Transfer Rate  | Compatibility |
| -------- | --------- | -------------- | ------------- |
| 802.11a  | 5 GHz     | 54 Mbps        | 802.11a       |
| 802.11b  | 2.4 GHz   | 11 Mbps        | 802.11g/n     |
| 802.11g  | 2.4 GHz   | 54 Mbps        | 802.11b/n     |
| 802.11n  | 5/2.4 GHz | up to 600 Mbps | 802.11a/b/g   |
| 802.11ac | 5 GHz     | 1 Gbps         | 802.11a/b/g/n |

### Channels

Each frequency in the range is known as a *channel*. Because there are channels that overlap with one another. Using channels that overlap with one another could cause interference and instability with the wireless network.

Most wireless devices enable you to specify which channel you want to use. This is important because if you are having trouble with your wireless network failing a lot, it could be that the wireless devices are conflicting or interfering with other wireless devices in your area. As a solution, you could change the channel on your WAP and clients, which changes the frequency.

**Different Wi-Fi Channels**
![[Pasted image 20251110180702.png]]

**Channels 1, 6, and 11 do not overlap**
![[Pasted image 20251110180737.png]]

You can see that channels 1, 6 and 11 do not overlap with one another. So if you were to create multiple wireless networks within the 2.4 GHz frequency, you could start by placing one network on channel 1 and another on channel 6 or 11.

#### Use Non-overlapping Channels

A channel has a specific "width" to it, and that width allows for a specific amount of data to pass through the channel (bandwidth).
That a wireless standard that has a larger channel bandwidth will be able to deliver more data and give better performance.

**Channel bandwidth per standard**
* 802.11a: 20 MHz
* 802.11b: 22 MHz
* 802.11g: 20 MHz
* 802.11n: 20 or 40 MHz
* 802.11ac: 20, 40, 80, or 160 MHz

### Wireless Security Protocols

#### Wired Equivalent Privacy

*Wired Equivalent Privacy (WEP)* was designed to give the wireless world a level of security that could equate to that of the wired networking world.

In the wired world, someone would have to be in your office to connect a cable to your network, but with wireless networking, this is, of course, not the case. Someone could sit outside your building in a parked car and connect to your wireless network.

To configure your wireless network with WEP, you simply specify a shared key, or passphrase, on the WAP. The theory is that if anyone wants to connect to your wireless network, they'd need to know the shared key and would need to configure their workstation with that key.
When you configure the shared key on the AP and client, any data sent between the client and the AP is encrypted with WEP. This will prevent unauthorized individuals from capturing data in transmit and reading it.

Note that there were huge flaws in how WEP implemented its encryption and key useage, and as a result, both 64-bit and 128-bit WEP are easily cracked. For security reasons, you should not use WEP unless you have older APs that do not support WAP or WPA2.

#### Wi-Fi Protected Access

*Wi-Fi Protected Access (WPA)* was designed to improve upon wireless security and fix some of the flaws in WEP.
WPA uses a 128-bit key and the Temporal Key Integrity Protocol (TKIP), which is used to change the encryption keys for every packet that is sent. This will make it far more difficult for hackers to crack the key.
WPA uses RC4 as the symmetric encryption algorithm, which is why WPA is sometimes referred to as TKIP-RC4.

WAP has a number of other improvements over WEP; for example, it has improved integrity checking, and it supports authentication using the Extensible Authentication Protocol (EAP), a very secure authentication protocol that supports a number of authentication methods such as Kerberos, token cards, certificates, and smartcards.

EAP messages are encapsulated inside IEEE 802.1X packets for network access authentication with wired or wireless networks. When IEEE 802.1X is used to control access to the wireless network, the wireless client attempts to connect to a WAP; the AP asks the client for proof of identity and then forwards that a RADIUS server for authentication.

Many variations of EAP have developed over time:

* **LEAP**
	* Lightweight Extensible Authentication Protocol
	* Cisco's proprietary EAP solution created before the IEEE created 802.1X
* **PEAP**
	* Protected Extensible Authentication Protocol
	* Used to encapsulated EAP messages over a secure tunnel that uses Transport Layer Security (TLS). Because EAP assumes the packets are sent over a secure network, with PEAP, TLS is used to create a secure tunnel between two points.
* **EAP-FAST**
	* EAP-FAST is an authentication protocol designed by Cisco to replace LEAP.
	* EAP-FAST is typically used to provide authentication services to wireless networks.
* **EAP-TLS**
	* EAP-TLS is the EAP protocol that uses TLS security for secure authentication on wireless networks.
	* The EAP-TLS solution typically involves the use of client certificates to perform the authentication.
* **EAP-TTLS**
	* EAP-TTLS (EAP-Tunneled Transport Layer Security) builds on EAP-TLS by having the capabilities to authenticate both the client and the server, although the client does not need to use certificates for authentication.
	* The server can authenticate the client after a secure channel is set up using the server's certificate.

When configuring WPA on the wireless network, note that WPA operates in three different modes:

* **WPA Personal**
	* With WPA Personal, aka WPA-PSK (WPA preshared key), you can configure the AP with a starting key value, known as the preshared key, which is then used to encrypt the traffic.
	* This mode is used most by home users and small businesses.
* **WPA Enterprise**
	* WPA-802.1X, is a WPA implemenation that uses a central authentication server such as a RADIUS server for authentication and auditing features.
	* WAP Enterprise is used by larger organizations so that they can use their existing authentiation server to control who has access to the wireless network and to log network access.
* **Open**
	* An open wireless network does not require any password to connect and does not use any form of encryption to keep the wireless data secret from prying eyes.
	* Naturally, it is not recommend to leave your wireless network open or to connect your client system to an open network that you are not familiar with.

#### WPA2

WPA2 improves upon the security of WPA and should be used instead of WPA if you have the choice.
WPA2 uses Counter Mode with Cipher Block Chanining Message Authentication Code Protocol (CCMP or CCM Mode Protocol) for data privacy, integrity, and authentication on a WPA2 wireless network. WPA2 uses CCMP with the Advanced Encryption Standard (AES) protocol for the encryption of wireless traffic instead of TKIP and supports additional features, such as added protection for ad hoc networks and key caching.
Because WPA2 uses AES as its encryption protocol, it supports 128-bit, 192-bit, and 256-bit encryption.

WPA2 also supports the TLS and the TTLS protocols through the use of the EAP. Known as EAP-TLS and EAP-TTLS, these protocols offer secure methods of performing authentication on a wireless network.

#### WPA3

WPA3 is the newest version of WPA, which was developed in 2018 and is slowly being adopted by manufacturers. Because WPA3 is fairly new, you may have it as an option only on newer wireless devices.

WPA3 has improved security over WPA2 by introducing some new features:
* It improves the encryption by using 256-bit Galois/Counter Mode protocol (GCMP-256) for data encryption
* Simultaneous Authentication of Equals (SAE) is a feature of WPA3 that increases security by enabling the access point to authenticate the client, and the client to authenticate the access point. This stronger authentication method helps prevent eavesdropping and craking of handshake traffic that was common with WPA2.
* The encryption process with WPA3 uses session keys, which are designed to protect a user from decrypting another user's traffic even if they both have used the same Wi-Fi key.


---

## Cisco Wireless Architectures

### Wireless Architectures

You can set up your Cisco wireless network in different ways: each setup is known as a wireless architecture.

#### Wireless Security Practices

* Authentication and Authorization
* Shared or Open
* Preshared Key
* MAC Filtering
* 802.1X

#### Autonomous Architecture

With the autonomous architecture model, your Cisco wireless network is made up of independent APs that you manage individually, typically with the GUI of the AP.
Each AP could supply one or more SSIDs, with each SSID associated with a different VLAN.

With this model, each SSID is associated with a single VLAN, and the AP has a connection to a switch using a trunk port. The trunk port is configured to carry all traffic for each of the VLANs.

In this scenario, if you need to add a new wireless network (SSID) to all the APs, you must configure each AP individually, because they each opearte independently.

#### Split-MAC Architecture

The split-MAC architecture offers a more centralized model in which a WLC is used to deploy the configuration to each of the APs.
In this scenario, the APs are known as *lightweight access points (LAPs)* because they receive their configuration from the WLC and are not configured directly.

In this model the WLC is used to deploy configuration settings such as the radio frequency to use, quality of service (QoS) settings, any authentication, authorization, and accounting (AAA) setting that deal with configuration of a TACACS+/RADIUS server, and policy settings.

In the split-MAC architecture model, Control and Provisioning of Wireless Access Points (CAPWAP) is a secure private tunnel used to carry communication between the WLC and the LAP.
All communication between the WLC and the LAP travels through the CAPWAP. There are actually two tunnels: one for control communication and another for the data:
* The control channel carries the commands and is encrypted by default. The CAPWAP control channel uses UDP 5246.
* The data channel is not encrypted by default, but it can be encrypted. The CAPWAP data channel uses UDP 5247.

#### Cloud-based Architecture

In a cloud-based architecture, the WLC is not a device on your physical network, but is provided by a cloud provider and resides in the cloud.
The cloud-based WLC provides the same functions as a WLC connected to your LAN, but you have the benefit of it being a cloud device that is managed by the cloud provider.

### Positioning of WLC

#### Centralized WLAN Architecture

In a centralized WLAN architecture, you are using a WLC to manage your LAPs.
All communication to the LAP (Lightweight Access Points) must pass through the WLC to verify that the communication is authorized. This means that communication between two wireless clients connected to the LAP must travel the network path to the WLC (and then back) when data goes from one wireless device to another. This could cause issues with delay or even outages if the WLC is physically distanced from the LAPs.

Placement of the WLC should be carefully considered. If you place the WLC on the opposite end of the network from the LAPs, then the CAPWAP tunnel that carries traffic between the LAP and the WLC must travel across the network, causing delays.
Also, because the LAPs must be able to communicate with the WLC, if the WLC or the CAPWAP tunnel goes down in a centralized WLAN architecture, the wireless devices are dropped from the network (even if the LAP is functioning). You can solve this by either changing the mode on the AP (more on this in a bit) or by placing the WLC closer to the LAPs.

#### Cisco FlexConnect

The Cisco FlexConnect mode on the LAP enables the LAP to pass data to the LAN directly and is not required to pass the data thruogh the WLC.
Also, the LAPs can authenticate clients in order for the client to gain wireless access, whereas in the centralized model all authentication was done by the WLC.

With the Cisco FlexConnect mode, if the CAPWAP tunnel fails, the LAPs still fundtion because they have their configuration and are authorized to pass traffic on to the network and authenticate wireless clients.

#### Converged WLAN Architecture

To ensure that communication between the WLC and the LAPs is efficient and reliable, the WLC and LAPs are connected to the same switch in a converged WLAN architecture. These could be access layer switches or distribution layer switches. This enables the LAPs to communicate with the LAPs through the switch  quickly, without needing the traffic to travel across the entire network.

In the converged WLAN architecture, you would need multiple WLCs for different parts of the network. The benefit is the CAPWAP tunnel would be a shorter distance between the LAP and its WLC.
This topology results in faster Wi-Fi access with less delays.

### AP Modes

#### Local Mode

This is the default mode for the LAPs and involves what we describe earlier: the LAP has a CAPWAP tunnel to the WLC in which all traffic must pass through the CAPWAP to the WLC.
If the CAPWAP fails, all wireless clients are disconnected from that LAP.

#### Bridged Mode

This mode is used when you want the AP to be used to connect two networks together, such as the networks of two buildings separated by a bit of distance.
With this scenario, the AP acting as a bridge is authenticated to the remote wireless network, but the devices in the remote building are not.

#### FlexConnect Mode

In this mode, the LAPs are in branch offices and the WLC is located in the head office.
The LAPs can pass traffic directly between clients and to the LAN, while normally the traffic would need to be sent to the WLC. It reduces network delay.

With FlexConnect mode, the LAP can be used to authenticate and authorize wireless clients as well. Remeber that in FlexConnect mode, the LAPs still function even if the CAPWAP tunnel fails.

#### Mesh Mode

This mode represents another special scenario mode in which a WAP connects to another WAP, essentially acting as an extender to the wireless network.
When a wireless client connects and sends data to the LAN, it is possible that the data will travel through multiple mesh nodes before reaching the LAN.
A mesh node (an AP in a mesh topology), also known as a mesh access point (MAP), uses the Adaptive Wireless Path Protocol (AWPP) to determine the best path to the root access point (RAP).

#### Monitor Mode

This mode is used to monitor activity for rogue APs that are connected to the network.
An AP running in monitor mode does not transmit wireless signals, but only receives wireless signals in order to detect the rogue AP.

#### Sniffer Mode

To perform analysis of the wireless traffic, you can configure the AP in sniffer mode.
Once sniffer mode is configured, the AP will capture wireless traffic and send the traffic to a remote computer for analysis.

### Management Access Connections

---

## Configuring Wireless with a GUI

### WLAN Creation

### Security Settings

### QoS Profiles

### Advanced Wireless LAN Settings

### Configuring RADIUS/TACACS+

---

## Chapter Review



---

## Quick Review

---

### Questions

1.  Your manager is wondering why you have purchased a wireless LAN controller (WLC). Which of the following would you use to describe the benefit of a WLC?

A. It can be used with autonomous and lightweight access points.
B. It requires the use of a RADIUS server.
**C. It enables you to centrally manage all access points.**
D. It allows configuration only via a console port.

2.  Which access point solution would you use if you wanted to ensure that the access point could still serve clients when communication to the WLC has failed?

A. Mesh
**B. FlexConnect**
C. Local
D. CAPWAP

3.  What type of access points are managed by the WLC?

A. Autonomous
B. CAPWAP
C. Heavyweight
**D. Lightweight**

4.  When designing an Extended Service Set (ESS) wireless network, which of the following represents a design best practice?

**A. Configure each access point with a unique non-overlapping channel and the same SSID.**
B. Configure each access point with the same channel and the same SSID.
C. Configure each access point with a unique non-overlapping channel and a unique SSID.
D. Configure each access point with the same channel, but different SSIDs.

5.  Which of the following is the encryption algorithm used by WPA2 with a preshared key?

A. RC4
**B. AES**
C. TKIP with RC4
D. TKIP with WEP

6.  You are configuring the wireless network using the GUI of the wireless LAN controller. While configuring the WPA2 PSK, which two data formats can you use? (Choose two.)

**A. Hexadecimal**
B. Decimal
C. Binary
**D. ASCII**
E. Base10

7.  Which wireless standard runs at 54 Mbps?

A. 802.11ac
B. 802.11n
**C. 802.11g**
D. 802.11b

8.  Which wireless encryption protocol uses AES as the encryption algorithm?

A. WEP
**B. WPA2**
C. RC4
D. WPA

9.  You are using a wireless scanner that reports the BSSID of each of the wireless networks. What does the BSSID represent?

**A. The MAC address of the access point**
B. The name of the wireless network
C. The channel for the wireless network
D. The IP address of the access point

### Performance-based Questions

1.  Using the following exhibit, match the wireless term with its
definition.

![[Pasted image 20251111181525.png]]

| term                          | def                                                  |
| ----------------------------- | ---------------------------------------------------- |
| WPA2                          | A wireless encryption protocol                       |
| Service Port                  | An interface used for out-of-band management         |
| Wireless LAN Controller (WLC) | Used to centrally manage access points               |
| Dynamic Interface             | Used to map a WLAN to a VLAN                         |
| Access Point                  | Used by wireless clients to access the wired network |
