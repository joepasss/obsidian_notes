
## Understanding Subnetting

You subnet a network ID to break the single logical network address into multiple logical network address so that you can assign a logical network ID and related addresses to each physical network segment on your network.

In order to do this, you have to manipulate the subnet mask at the bit level and essntially take host bits away and convert them to subnet bits.

### Subnetting Class A Networks

You have an address range of 10.0.0.0 and you will divide the network into four subnetworks, or *subnets*.

To begin, you need to know how many bits are required to make the desired number of networks.
To calculate how many bits are needed to subnet into four networks (subnets), you use the formula: `2^masked_bits = number of subnets`

Now that you know that two bits must be masked to create the four subnets, the next step is to look at your IP range of 10.0.0.0 and get default subnet mask (which is 255.0.0.0).
Once you know the default subnet mask, your next step is to break the subnet mask into binary.

```
11111111.00000000.00000000.00000000
```

You can begin to calculate the new addresses of the four subnets. The first thing you need to do is mask two bits from the host ID portion of the subnet mask and make them subnet bits by setting them to a 1 state.

```
11111111.11000000.00000000.00000000
```

#### Calculate the New Subnet Mask

Now you can calculate the new subnet masks for all four networks.
To do this, you convert the new binary value (11111111.11000000.00000000.00000000) to its decimal notation (255.192.0.0).

The next step is to calculate the IP ranges for the four different networks, but before that, you need to know five pieces of information about each of the new subnets you are designing before this walkthrough is complete:

* **New Subnet Mask**
* **Network ID**
* **First valid address**
* **broadcast address**
* **Last valid address**

#### Calculate the Network ID

To calculate the network IDs for each of the subnets, you need to determine all of the on/off states of the number of bits that you have converted from host bits to subnet bits. And then set every host bits to 0

| First Octet (dec) | Second Octet (bin) | Third Octet (bin) | Fourth Octet (bin) | network ID (dec) |
| ----------------- | ------------------ | ----------------- | ------------------ | ---------------- |
| 10                | 00000000           | 00000000          | 00000000           | 10.0.0.0         |
| 10                | 01000000           | 00000000          | 00000000           | 10.64.0.0        |
| 10                | 10000000           | 00000000          | 00000000           | 10.128.0.0       |
| 10                | 11000000           | 00000000          | 00000000           | 10.192.0.0       |

#### Calculate the First Valid Address

Network ID + 1

| First Octet (dec) | network ID (dec) | First Valid Address |
| ----------------- | ---------------- | ------------------- |
| 10                | 10.0.0.0         | 10.0.0.1            |
| 10                | 10.64.0.0        | 10.64.0.1           |
| 10                | 10.128.0.0       | 10.128.0.1          |
| 10                | 10.192.0.0       | 10.192.0.1          |

#### Calculate the Broadcast Address

Set every host bits to 1

| First Octet (dec) | Second Octet (bin) | Third Octet (bin) | Fourth Octet (bin) | Broadcast Addr (dec) |
| ----------------- | ------------------ | ----------------- | ------------------ | -------------------- |
| 10                | 00111111           | 11111111          | 11111111           | 10.63.255.255        |
| 10                | 01111111           | 11111111          | 11111111           | 10.127.255.255       |
| 10                | 10111111           | 11111111          | 11111111           | 10.191.255.255       |
| 10                | 11111111           | 11111111          | 11111111           | 10.255.255.255       |

#### Calculate the Last Valid Address

Broadcast ID - 1

| Broadcast Addr (dec) | Last Valid Address (dec) |
| -------------------- | ------------------------ |
| 10.63.255.255        | 10.63.255.254            |
| 10.127.255.255       | 10.127.255.254           |
| 10.191.255.255       | 10.191.255.254           |
| 10.255.255.255       | 10.255.255.254           |

#### Verify the Network Size

* **Number of Subnets**
	* `2^subnet_bits = number of subnets`
* **Number of hosts per subnet**
	* `2^host_bits - 2 = number of hosts per subnet`

### Subnetting Class B Networks

You have the network ID of 190.45.0.0, make 6 subnets.

Because 2^2 = 4, 2^3 = 8 so you should mask three of host bits and create 8 subnets.

```
Network ID: 190.45.0.0
Subnet Mask: 255.255.0.0
```

#### Network ID

| Octet1 (dec) | Octet2 (dec) | Octet3 (bin) | Octet4 (bin) | Network ID   |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| 190          | 45           | 00000000     | 00000000     | 190.45.0.0   |
| 190          | 45           | 00100000     | 00000000     | 190.45.32.0  |
| 190          | 45           | 01000000     | 00000000     | 190.45.64.0  |
| 190          | 45           | 01100000     | 00000000     | 190.45.92.0  |
| 190          | 45           | 10000000     | 00000000     | 190.45.128.0 |
| 190          | 45           | 10100000     | 00000000     | 190.45.160.0 |
| 190          | 45           | 11000000     | 00000000     | 190.45.192.0 |
| 190          | 45           | 11100000     | 00000000     | 190.45.224.0 |

#### First Valid Address

| Network ID   | First Valid Address |
| ------------ | ------------------- |
| 190.45.0.0   | 190.45.0.1          |
| 190.45.32.0  | 190.45.32.1         |
| 190.45.64.0  | 190.45.64.1         |
| 190.45.92.0  | 190.45.92.1         |
| 190.45.128.0 | 190.45.128.1        |
| 190.45.160.0 | 190.45.160.1        |
| 190.45.192.0 | 190.45.192.1        |
| 190.45.224.0 | 190.45.224.1        |

#### Broadcast Address

| Octet1 (dec) | Octet2 (dec) | Octet3 (bin) | Octet4 (bin) | Brodcast Address |
| ------------ | ------------ | ------------ | ------------ | ---------------- |
| 190          | 45           | 00011111     | 11111111     | 190.45.31.255    |
| 190          | 45           | 00111111     | 11111111     | 190.45.63.255    |
| 190          | 45           | 01011111     | 11111111     | 190.45.91.255    |
| 190          | 45           | 01111111     | 11111111     | 190.45.127.255   |
| 190          | 45           | 10011111     | 11111111     | 190.45.159.255   |
| 190          | 45           | 10111111     | 11111111     | 190.45.191.255   |
| 190          | 45           | 11011111     | 11111111     | 190.45.223.255   |
| 190          | 45           | 11111111     | 11111111     | 190.45.255.255   |

#### Last Valid Address

| Brodcast Address | Last Valid Address |
| ---------------- | ------------------ |
| 190.45.31.255    | 190.45.31.254      |
| 190.45.63.255    | 190.45.63.254      |
| 190.45.91.255    | 190.45.91.254      |
| 190.45.127.255   | 190.45.127.254     |
| 190.45.159.255   | 190.45.159.254     |
| 190.45.191.255   | 190.45.191.254     |
| 190.45.223.255   | 190.45.223.254     |
| 190.45.255.255   | 190.45.255.254     |

### Subnetting Class C Networks

You have a class network address of 202.78.34.0 and you need to divide the network into 12 subnets.

Because 2^3 = 8, 2^4 = 16, you need mask 4 host bits

```
Network ID: 202.78.34.0
Subnet Mask: 255.255.255.0
```

#### Network ID

| Octet1 (dec) | Octet2 (dec) | Octet3 (dec) | Octet4 (bin) | Network ID    |
| ------------ | ------------ | ------------ | ------------ | ------------- |
| 202          | 78           | 34           | 00000000     | 202.78.34.0   |
| 202          | 78           | 34           | 00010000     | 202.78.34.16  |
| 202          | 78           | 34           | 00100000     | 202.78.34.32  |
| 202          | 78           | 34           | 00110000     | 202.78.34.48  |
| 202          | 78           | 34           | 01000000     | 202.78.34.64  |
| 202          | 78           | 34           | 01010000     | 202.78.34.80  |
| 202          | 78           | 34           | 01100000     | 202.78.34.96  |
| 202          | 78           | 34           | 01110000     | 202.78.34.112 |
| 202          | 78           | 34           | 10000000     | 202.78.34.128 |
| 202          | 78           | 34           | 10010000     | 202.78.34.144 |
| 202          | 78           | 34           | 10100000     | 202.78.34.160 |
| 202          | 78           | 34           | 10110000     | 202.78.34.176 |
| 202          | 78           | 34           | 11000000     | 202.78.34.192 |
| 202          | 78           | 34           | 11010000     | 202.78.34.208 |
| 202          | 78           | 34           | 11100000     | 202.78.34.224 |
| 202          | 78           | 34           | 11110000     | 202.78.34.240 |

#### First Valid Address

| Network ID    | First Valid Address |
| ------------- | ------------------- |
| 202.78.34.0   | 202.78.34.1         |
| 202.78.34.16  | 202.78.34.17        |
| 202.78.34.32  | 202.78.34.33        |
| 202.78.34.48  | 202.78.34.49        |
| 202.78.34.64  | 202.78.34.65        |
| 202.78.34.80  | 202.78.34.81        |
| 202.78.34.96  | 202.78.34.97        |
| 202.78.34.112 | 202.78.34.113       |
| 202.78.34.128 | 202.78.34.129       |
| 202.78.34.144 | 202.78.34.145       |
| 202.78.34.160 | 202.78.34.161       |
| 202.78.34.176 | 202.78.34.177       |
| 202.78.34.192 | 202.78.34.193       |
| 202.78.34.208 | 202.78.34.209       |
| 202.78.34.224 | 202.78.34.225       |
| 202.78.34.240 | 202.78.34.241       |

#### Broadcast Address

| Octet1 (dec) | Octet2 (dec) | Octet3 (dec) | Octet4 (bin) | Broadcast Address |
| ------------ | ------------ | ------------ | ------------ | ----------------- |
| 202          | 78           | 34           | 00001111     | 202.78.34.15      |
| 202          | 78           | 34           | 00011111     | 202.78.34.31      |
| 202          | 78           | 34           | 00101111     | 202.78.34.47      |
| 202          | 78           | 34           | 00111111     | 202.78.34.63      |
| 202          | 78           | 34           | 01001111     | 202.78.34.79      |
| 202          | 78           | 34           | 01011111     | 202.78.34.95      |
| 202          | 78           | 34           | 01101111     | 202.78.34.111     |
| 202          | 78           | 34           | 01111111     | 202.78.34.127     |
| 202          | 78           | 34           | 10001111     | 202.78.34.143     |
| 202          | 78           | 34           | 10011111     | 202.78.34.159     |
| 202          | 78           | 34           | 10101111     | 202.78.34.175     |
| 202          | 78           | 34           | 10111111     | 202.78.34.191     |
| 202          | 78           | 34           | 11001111     | 202.78.34.207     |
| 202          | 78           | 34           | 11011111     | 202.78.34.223     |
| 202          | 78           | 34           | 11101111     | 202.78.34.239     |
| 202          | 78           | 34           | 11111111     | 202.78.34.255     |

#### Last Valid Address

| Broadcast Address | Last Valid Address |
| ----------------- | ------------------ |
| 202.78.34.15      | 202.78.34.14       |
| 202.78.34.31      | 202.78.34.30       |
| 202.78.34.47      | 202.78.34.46       |
| 202.78.34.63      | 202.78.34.62       |
| 202.78.34.79      | 202.78.34.78       |
| 202.78.34.95      | 202.78.34.94       |
| 202.78.34.111     | 202.78.34.110      |
| 202.78.34.127     | 202.78.34.126      |
| 202.78.34.143     | 202.78.34.142      |
| 202.78.34.159     | 202.78.34.158      |
| 202.78.34.175     | 202.78.34.174      |
| 202.78.34.191     | 202.78.34.190      |
| 202.78.34.207     | 202.78.34.206      |
| 202.78.34.223     | 202.78.34.222      |
| 202.78.34.239     | 202.78.34.238      |
| 202.78.34.255     | 202.78.34.254      |

### Ex 5-1: Subnetting an IP Addresses

#### Subnetting a Class A Address

```
Network ID: 120.0.0.0
Subnet Mask: 255.0.0.0
```

Divide into eight subnets (00000000, 00100000, 01000000, 01100000, 10000000, 10100000, 11000000, 11100000)

| Octet1 (dec) | Octet2 (bin) | Octet3 (bin) | Octet4 (bin) | Network ID  |
| ------------ | ------------ | ------------ | ------------ | ----------- |
| 120          | 00000000     | 00000000     | 00000000     | 120.0.0.0   |
| 120          | 00100000     | 00000000     | 00000000     | 120.32.0.0  |
| 120          | 01000000     | 00000000     | 00000000     | 120.64.0.0  |
| 120          | 01100000     | 00000000     | 00000000     | 120.96.0.0  |
| 120          | 10000000     | 00000000     | 00000000     | 120.128.0.0 |
| 120          | 10100000     | 00000000     | 00000000     | 120.160.0.0 |
| 120          | 11000000     | 00000000     | 00000000     | 120.192.0.0 |
| 120          | 11100000     | 00000000     | 00000000     | 120.224.0.0 |

Subnet mask: 255.224.0.0

| Network ID  | First Valid Address | Broadcast Address | Last Valid Address |
| ----------- | ------------------- | ----------------- | ------------------ |
| 120.0.0.0   | 120.0.0.0           | 120.31.255.255    | 120.31.255.254     |
| 120.32.0.0  | 120.32.0.1          | 120.63.255.255    | 120.63.255.254     |
| 120.64.0.0  | 120.64.0.1          | 120.95.255.255    | 120.95.255.254     |
| 120.96.0.0  | 120.96.0.1          | 120.127.255.255   | 120.127.255.254    |
| 120.128.0.0 | 120.128.0.1         | 120.159.255.255   | 120.159.255.254    |
| 120.160.0.0 | 120.160.0.1         | 120.191.255.255   | 120.191.255.254    |
| 120.192.0.0 | 120.192.0.1         | 120.223.255.255   | 120.223.255.254    |
| 120.224.0.0 | 120.224.0.1         | 120.255.255.255   | 120.255.255.254    |

#### Subnetting a Class B Address

```
Network ID: 190.34.0.0
Subnet Mask: 255.255.0.0 
```

Divide into four subnets.

| Octet1 (dec) | Octet2 (dec) | Octet3 (bin) | Octet4 (bin) | Network ID   |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| 190          | 34           | 00000000     | 00000000     | 190.34.0.0   |
| 190          | 34           | 01000000     | 00000000     | 190.34.64.0  |
| 190          | 34           | 10000000     | 00000000     | 190.34.128.0 |
| 190          | 34           | 11000000     | 00000000     | 190.34.192.0 |

Subnet mask: 255.255.192.0

| Network ID   | First Valid Address | Broadcast Address | Last Valid Address |
| ------------ | ------------------- | ----------------- | ------------------ |
| 190.34.0.0   | 190.34.0.1          | 190.34.63.255     | 190.34.63.254      |
| 190.34.64.0  | 190.34.64.1         | 190.34.127.255    | 190.34.127.254     |
| 190.34.128.0 | 190.34.128.1        | 190.34.191.255    | 190.34.191.254     |
| 190.34.192.0 | 190.34.192.1        | 190.34.255.255    | 190.34.255.254     |

#### Subnetting a Clsss 

```
Network ID: 216.83.11.0
Subnet Mask: 255.255.255.0
```

Divide into two subnets

| Octet1 (dec) | Octet2 (dec) | Octet3 (dec) | Octet4 (bin) | Network ID    |
| ------------ | ------------ | ------------ | ------------ | ------------- |
| 216          | 83           | 11           | 00000000     | 216.83.11.0   |
| 216          | 83           | 11           | 10000000     | 216.83.11.128 |

Subnet mask: 255.255.255.128

| Network ID    | First Valid Address | Broadcast Address | Last Valid Address |
| ------------- | ------------------- | ----------------- | ------------------ |
| 216.83.11.0   | 216.83.11.1         | 216.83.11.127     | 216.83.11.126      |
| 216.83.11.128 | 216.83.11.129       | 216.83.11.255     | 216.83.11.254      |

### Ex 5-2: Subnetting Using the Shortcut Methods

#### Subnetting a Class A Address

```
Network ID: 37.0.0.0
Subnet Mask: 255.0.0.0
```

Divide into four subnets

| Octet1 (dec) | Octet2 (bin) | Octet3 (bin) | Octet4 (bin) | Network ID |
| ------------ | ------------ | ------------ | ------------ | ---------- |
| 37           | 00000000     | 00000000     | 00000000     | 37.0.0.0   |
| 37           | 01000000     | 00000000     | 00000000     | 37.64.0.0  |
| 37           | 10000000     | 00000000     | 00000000     | 37.128.0.0 |
| 37           | 11000000     | 00000000     | 00000000     | 37.192.0.0 |

Subnet Mask: 255.192.0.0

| Network ID | First Valid Address | Broadcast Address | Last Valid Address |
| ---------- | ------------------- | ----------------- | ------------------ |
| 37.0.0.0   | 37.0.0.1            | 37.63.255.255     | 37.63.255.254      |
| 37.64.0.0  | 37.64.0.1           | 37.127.255.255    | 37.127.255.254     |
| 37.128.0.0 | 37.128.0.1          | 37.191.255.255    | 37.191.255.254     |
| 37.192.0.0 | 37.192.0.1          | 37.255.255.255    | 37.255.255.254     |

#### Subnetting Class B Address

```
Network ID: 139.45.0.0
Subnet Mask: 255.255.0.0
```

Divide into eight subnets

| Octet1 (dec) | Octet2 (dec) | Octet3 (bin) | Octet4 (bin) | Network ID   |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| 139          | 45           | 00000000     | 00000000     | 139.45.0.0   |
| 139          | 45           | 00100000     | 00000000     | 139.45.32.0  |
| 139          | 45           | 01000000     | 00000000     | 139.45.64.0  |
| 139          | 45           | 01100000     | 00000000     | 139.45.96.0  |
| 139          | 45           | 10000000     | 00000000     | 139.45.128.0 |
| 139          | 45           | 10100000     | 00000000     | 139.45.160.0 |
| 139          | 45           | 11000000     | 00000000     | 139.45.192.0 |
| 139          | 45           | 11100000     | 00000000     | 139.45.224.0 |

Subnet mask: 255.255.224.0

| Network ID   | First Valid Address | Broadcast Address | Last Valid Address |
| ------------ | ------------------- | ----------------- | ------------------ |
| 139.45.0.0   | 139.45.0.1          | 139.45.31.255     | 139.45.31.254      |
| 139.45.32.0  | 139.45.32.1         | 139.45.63.255     | 139.45.63.254      |
| 139.45.64.0  | 139.45.64.1         | 139.45.95.255     | 139.45.95.254      |
| 139.45.96.0  | 139.45.96.1         | 139.45.127.255    | 139.45.127.254     |
| 139.45.128.0 | 139.45.128.1        | 139.45.159.255    | 139.45.159.254     |
| 139.45.160.0 | 139.45.160.1        | 139.45.191.255    | 139.45.191.254     |
| 139.45.192.0 | 139.45.192.1        | 139.45.223.255    | 139.45.223.254     |
| 139.45.224.0 | 139.45.224.1        | 139.45.255.255    | 139.45.255.254     |

#### Subnetting a Class C Address

```
Network ID: 222.100.10.0
Subnet Mask: 255.255.255.0
```

Divide into four subnets

| Octet1 (dec) | Octet2 (dec) | Octet3 (dec) | Octet4 (bin) | Network ID     |
| ------------ | ------------ | ------------ | ------------ | -------------- |
| 222          | 100          | 10           | 00000000     | 222.100.10.0   |
| 222          | 100          | 10           | 01000000     | 222.100.10.64  |
| 222          | 100          | 10           | 10000000     | 222.100.10.128 |
| 222          | 100          | 10           | 11000000     | 222.100.10.192 |

Subnet mask: 255.255.255.192

| Network ID     | First Valid Address | Broadcast Address | Last Valid Address |
| -------------- | ------------------- | ----------------- | ------------------ |
| 222.100.10.0   | 222.100.10.1        | 222.100.10.63     | 222.100.10.62      |
| 222.100.10.64  | 222.100.10.65       | 222.100.10.127    | 222.100.10.126     |
| 222.100.10.128 | 222.100.10.129      | 222.100.10.191    | 222.100.10.190     |
| 222.100.10.192 | 222.100.10.193      | 222.100.10.255    | 222.100.10.254     |

---

## Classful vs. Classless Addressing

**Classful IP Addressing**

* **Class A**
	* 1-127 (00000001 - 01111111)
	* Subnet mask: 255.0.0.0
* **Class B**
	* 128-191 (10000000 - 10111111)
	* Subnet mask: 255.255.0.0
* **Class C**
	* 192-223 (11000000 - 11011111)
	* Subnet mask: 255.255.255.0

### IP Subnet Zero

A years ago, some networking devices and protocols could not use the first and last subnets when we divided the network into multiple subnets. This was because some of the older routing protocols did not send the subnet mask information along with the network ID when the router shared information about the network.
This meant that if the network was subnetted, when a router shared knowledge of the 192.168.1.0 network, the receiving router had not way to know if it was subnetted or the entire 192.168.1.0 network.

Today's routing protocols send the subnet mask information with the route, something like 192.168.1.0/26
Cisco devices can use the first and last subnets when subnetting a network, because the `ip subnet-zero` command configured on the device indicates that we can use the first and last subnets.
If command was changedd to `no ip subnet-zero`, we would not be allowed to use the first and last subnets on the router.

---

## Variable Length Subnet Masks

![[Pasted image 20251127130153.png]]

You can see a network with three subnets. Subnet 1 has 21 hosts, subnet 2 has 2 hosts, and subnet 3 has 56 hosts.
Each host on each subnet will need an IP address within the subnet, and we want to subnet the network into three subnets while conserving addresses.

To accomplish this goal, look at your network ID (216.83.11.0), and first work with the larger subnet, in this case, subnet 3.
Subnet 3 requires 56 hosts, so to calculate the subnet information, you need to determine how many *host bits* you need to create a subnet that supports 56 hosts.
You can use the following formula:

```
2^host_bits - 2 = # of hosts supported
```

Based on the formula we need 6 bits for host bits in order to support the 56 hosts on subnet 3

```
2^6 = 64 - 2 = 62 hosts supported on subnet 3.
```

With this information, you can now document the subnet mask for subnet 3:

```
11111111.11111111.11111111.11000000 = 255.255.255.192
```

Numbers 0-63 are the address for subnet 3.

![[Pasted image 20251127131108.png]]

Notice that this is documented as 216.83.11.0/26. The /26 indicates that 26 bits in the subnet mask have been enabled, and it controls how many addresses are used in this subnet (64).

Now look at the next higher number of hosts on a network, and you'll see that subnet 1 requres 21 hosts (or 21 IP addresses).

```
2^5 - 2 = 30 hosts supported on subnet 1
```

With this information, you can now document the subnet

```
11111111.11111111.11111111.11100000 = 255.255.255.224
```

Numbers 64-95 are the address for subnet 1

![[Pasted image 20251127131342.png]]

Note that this is documented as 216.83.11.64/27.

The last subnet to add to our planning grid is subnet 2. Because we need two IP addresses on this subnet

```
2^2 - 2 = 2 hosts supported on subnet 2
```

```
11111111.11111111.11111111.11111100 = 255.255.255.252
```

![[Pasted image 20251127131502.png]]

Numbers 96-99 as the addresses in the fourth octet for this subnet
This is documented as 216.83.11.96/30.

### Ex 5-3: Using VLSM on a Network

The network address you have to subnet is 200.45.6.0

![[Pasted image 20251127131643.png]]

#### Subnet #1

```
### Calculate number of hosts
2^7 - 2 = 126 - 2 = 124

### Subnet mask
11111111.11111111.11111111.10000000 = 255.255.255.128

### CIDR notation
200.45.6.0/25

### Range
200.45.6.0 (network ID)
200.45.6.1 - 200.45.6.124 (host address)
200.45.6.125 (broadcast address)
```

#### Subnet #3

```
### Calculate number of hosts
2^6 - 2 = 64 - 2 = 62

### Subnet mask
11111111.11111111.11111111.11000000 = 255.255.255.192

### CIDR notation
200.45.6.126/26

### Range
200.45.6.126 (network ID)
200.45.6.127 - 200.45.6.188 (host address)
200.45.6.189 (broadcast address)
```

### Subnet #2

```
### Calculate number of hosts
2^4 - 2 = 4 - 2 = 2

### Subnet mask
11111111.11111111.11111111.11111100 = 255.255.255.252

### CIDR notation
200.45.6.190/30

### Range
200.45.6.190 (network ID)
200.45.6.191 - 200.45.6.192 (host address)
200.45.6.193 (broadcast address)
```

---

## Route Summarization

*Route summarization* is the ability to take a bunch of contiguous network numbers in your routing table and advertise these contiguous routes as a single summarized or aggregated route.

Route summarization enables you to summarize subnetted routes back to the class boundary.
For instance, if you are using the network ID 192.168.1.0/24 and have subnetted it to 192.168.1.0/26, giving you four networks, you could summarize these subnets in your routing table and advertise them as a single class C network number 192.168.1.0/24.

### Advantage of Summarization

Suumariztaion enables you to create more efficient routing environment by providng the following advantages:

* It reduces the size of routing tables, requiring less memory and processing.
* It reduces the size of routing updates, requiring less bandwidth.
* It prevents routing table instability.

There are a few disadvantages to route summarization as well:

* The summary route may contain subnets that are not in use, and the router may receive packets for routes that are not in use, although they do mathematically fall under the summary route. In this case the router will drop those packets.
* The router may choose a different pathway for the route because the pathway is more specific than that of the summary route.

To calculate the summary route, you first list out each of the network IDs and then convert them to their binary forms.

```
192.168.1.0/26   11000000.10101000.00000001.00000000
192.168.1.64/26  11000000.10101000.00000001.01000000
192.168.1.128/26 11000000.10101000.00000001.10000000
192.168.1.192/26 11000000.10101000.00000001.11000000
```

Next, you identify, from left to right, how many bits are the same with those four network IDs. That is your summary route

```
11000000.10101000.00000001
```

Notice that in the first two bits of the fourth octet, the bits start to change for each subnet. All of the bits before that point are the common bits to create our summary route.
When you convert the common bits back to decimal, you get a summary route of 192.168.1.0/24.

---

## Classless Interdomain Routing (CIDR)

*Classless Interdomain Routing (CIDR)*, specified in RFC 2050, is an extension to VLSM and route summariztaion.

With VLSM, you can summarize subnets back to the class A, B, or C network boundary.
CIDR takes this one step further and enables you to summarize a block of contiguous class A, B, and/or C network numbers. This practice is commonly referred to as *supernetting*.

![[Pasted image 20251127135132.png]]

In this example, a router is connected to four Class C networks: 192.168.0.0/24, 192.168.1.0/24, 192.168.2.0/24, 192.168.3.0/24. It is summarizing thoes routes as 192.168.0.0/22.

### Ex 5-4: Addtional Subnetting Practices

#### Subnetting a Class B Network

```
Network ID: 150.87.0.0
Subnet Mask: 255.255.0.0
```

Divide by 16 subnets.
Subnet mask: 255.255.11110000.00000000 = 255.255.240.0 (/20)

| Octet1 (dec) | Octet2 (dec) | Octet3 (bin) | Octet4 (bin) | Network ID   |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| 150          | 87           | 00000000     | 00000000     | 150.87.0.0   |
| 150          | 87           | 00010000     | 00000000     | 150.87.16.0  |
| 150          | 87           | 00100000     | 00000000     | 150.87.32.0  |
| 150          | 87           | 00110000     | 00000000     | 150.87.48.0  |
| 150          | 87           | 01000000     | 00000000     | 150.87.64.0  |
| 150          | 87           | 01010000     | 00000000     | 150.87.80.0  |
| 150          | 87           | 01100000     | 00000000     | 150.87.96.0  |
| 150          | 87           | 01110000     | 00000000     | 150.87.112.0 |
| 150          | 87           | 10000000     | 00000000     | 150.87.128.0 |
| 150          | 87           | 10010000     | 00000000     | 150.87.144.0 |
| 150          | 87           | 10100000     | 00000000     | 150.87.160.0 |
| 150          | 87           | 10110000     | 00000000     | 150.87.176.0 |
| 150          | 87           | 11000000     | 00000000     | 150.87.192.0 |
| 150          | 87           | 11010000     | 00000000     | 150.87.208.0 |
| 150          | 87           | 11100000     | 00000000     | 150.87.224.0 |
| 150          | 87           | 11110000     | 00000000     | 150.87.240.0 |

| Network ID   | First Valid Address | Broadcast Address | Last Valid Address |
| ------------ | ------------------- | ----------------- | ------------------ |
| 150.87.0.0   | 150.87.0.1          | 150.87.15.255     | 150.87.15.254      |
| 150.87.16.0  | 150.87.16.1         | 150.87.31.255     | 150.87.31.254      |
| 150.87.32.0  | 150.87.32.1         | 150.87.47.255     | 150.87.47.254      |
| 150.87.48.0  | 150.87.48.1         | 150.87.63.255     | 150.87.63.254      |
| 150.87.64.0  | 150.87.64.1         | 150.87.79.255     | 150.87.79.254      |
| 150.87.80.0  | 150.87.80.1         | 150.87.95.255     | 150.87.95.254      |
| 150.87.96.0  | 150.87.96.1         | 150.87.111.255    | 150.87.111.254     |
| 150.87.112.0 | 150.87.112.1        | 150.87.127.255    | 150.87.127.254     |
| 150.87.128.0 | 150.87.128.1        | 150.87.143.255    | 150.87.143.254     |
| 150.87.144.0 | 150.87.144.1        | 150.87.159.255    | 150.87.159.254     |
| 150.87.160.0 | 150.87.160.1        | 150.87.175.255    | 150.87.175.254     |
| 150.87.176.0 | 150.87.176.1        | 150.87.191.255    | 150.87.191.254     |
| 150.87.192.0 | 150.87.192.1        | 150.87.207.255    | 150.87.207.254     |
| 150.87.208.0 | 150.87.208.1        | 150.87.223.255    | 150.87.223.254     |
| 150.87.224.0 | 150.87.224.1        | 150.87.239.255    | 150.87.239.254     |
| 150.87.240.0 | 150.87.240.1        | 150.87.254.255    | 150.87.254.254     |

#### Subnetting a Class A network

```
Network ID: 14.0.0.0
Subnet mask: 255.0.0.0
```

Divide by 8 subnets.
Subnet mask: 11111111.11100000.00000000 = 255.224.0.0

| Octet1 (dec) | Octet2 (bin) | Octet3 (bin) | Octet4 (bin) | Network ID |
| ------------ | ------------ | ------------ | ------------ | ---------- |
| 14           | 00000000     | 00000000     | 00000000     | 14.0.0.0   |
| 14           | 00100000     | 00000000     | 00000000     | 14.32.0.0  |
| 14           | 01000000     | 00000000     | 00000000     | 14.64.0.0  |
| 14           | 01100000     | 00000000     | 00000000     | 14.96.0.0  |
| 14           | 10000000     | 00000000     | 00000000     | 14.128.0.0 |
| 14           | 10100000     | 00000000     | 00000000     | 14.160.0.0 |
| 14           | 11000000     | 00000000     | 00000000     | 14.192.0.0 |
| 14           | 11100000     | 00000000     | 00000000     | 14.224.0.0 |

| Network ID | First Valid Address | Broadcast Address | Last Valid Address |
| ---------- | ------------------- | ----------------- | ------------------ |
| 14.0.0.0   | 14.0.0.1            | 14.31.255.255     | 14.31.255.254      |
| 14.32.0.0  | 14.32.0.1           | 14.63.255.255     | 14.63.255.254      |
| 14.64.0.0  | 14.64.0.1           | 14.95.255.255     | 14.95.255.254      |
| 14.96.0.0  | 14.96.0.1           | 14.127.255.255    | 14.127.255.254     |
| 14.128.0.0 | 14.128.0.1          | 14.159.255.255    | 14.159.255.254     |
| 14.160.0.0 | 14.160.0.1          | 14.191.255.255    | 14.191.255.254     |
| 14.192.0.0 | 14.192.0.1          | 14.223.255.255    | 14.223.255.254     |
| 14.224.0.0 | 14.224.0.1          | 14.255.255.255    | 14.255.255.254     |

#### Subnetting a Class C Network

```
Network ID: 202.15.67.0
Subnet Mask: 255.255.255.0
```

Divide by 4 subnets.
Subnet mask: 11111111.11111111.11111111.11000000 = 255.255.255.192

| Octet1 (dec) | Octet2 (dec) | Octet3 (dec) | Octet4 (bin) | Network ID    |
| ------------ | ------------ | ------------ | ------------ | ------------- |
| 202          | 15           | 67           | 00000000     | 202.15.67.0   |
| 202          | 15           | 67           | 01000000     | 202.15.67.64  |
| 202          | 15           | 67           | 10000000     | 202.15.67.128 |
| 202          | 15           | 67           | 11000000     | 202.15.67.192 |

| Network ID    | First Valid Address | Broadcast Address | Last Valid Address |
| ------------- | ------------------- | ----------------- | ------------------ |
| 202.15.67.0   | 202.15.67.1         | 202.15.67.63      | 202.15.67.62       |
| 202.15.67.64  | 202.15.67.65        | 202.15.67.127     | 202.15.67.126      |
| 202.15.67.128 | 202.15.67.129       | 202.15.67.191     | 202.15.67.190      |
| 202.15.67.192 | 202.15.67.193       | 202.15.67.255     | 202.15.67.254      |

---

## Review

---

## Questions

1.  You have a network ID of 131.107.0.0 and you would like to subnet your network into six networks. What is your new subnet mask?

Class A: 0 - 127
Class B: 128 - 191
Class C: 192 - 223

131.107.0.0 is Class B network so default subnet mask is 255.255.0.0, and divide into 6 subnets (2^3 = 8, so divide by 8 subnets), mask three host bits (11111111.11111111.11100000.00000000, 255.255.224.0)

A. 255.224.0.0
**B. 255.255.224.0**
C. 255.192.0.0
D. 255.255.192.0

2.  You want to divide your network into eight networks. How many bits will you need to take from the host ID portion of the subnet mask?

A. 2
**B. 3**
C. 4
D. 6

3.  In binary, how do you calculate the broadcast address of a network range?

A. All host bits set to 0 : Network ID
B. All host bits set to 0, except for the low-order bit : first valid address
C. All host bits set to 1, except for the low-order bit : last valid address
**D. All host bits set to 1**

4.  In binary, how do you calculate the network ID of a network range?

**A. All host bits set to 0**
B. All host bits set to 0, except for the low-order bit
C. All host bits set to 1, except for the low-order bit
D. All host bits set to 1

5.  The last valid address of a subnet is always

A. One more than the broadcast address
**B. One less than the broadcast address**
C. One more than the network ID
D. One less than the network ID

6.  You need to assign an IP address to the router that uses the fourth valid address of 200.56.88.96/27. Which address would you use?

200.56.88.96 is Class C network so default subnet mask is 255.255.255.0 (/24), so 200.56.88.96/27 indicates three host bits are masked. That means this address is divided eight subnets.

| Octet1 (dec) | Octet2 (dec) | Octet3 (dec) | Octet4 (bin) | Network ID    |
| ------------ | ------------ | ------------ | ------------ | ------------- |
| 200          | 56           | 88           | 00000000     | 200.56.88.0   |
| 200          | 56           | 88           | 00100000     | 200.56.88.32  |
| 200          | 56           | 88           | 01000000     | 200.56.88.64  |
| 200          | 56           | 88           | 01100000     | 200.56.88.96  |
| 200          | 56           | 88           | 10000000     | 200.56.88.128 |
| 200          | 56           | 88           | 10100000     | 200.56.88.160 |
| 200          | 56           | 88           | 11000000     | 200.56.88.192 |
| 200          | 56           | 88           | 11100000     | 200.56.88.224 |

| Network ID    | First Valid Address | Broadcast Address | Last Valid Address |
| ------------- | ------------------- | ----------------- | ------------------ |
| 200.56.88.0   | 200.56.88.1         | 200.56.88.31      | 200.56.88.30       |
| 200.56.88.32  | 200.56.88.33        | 200.56.88.63      | 200.56.88.62       |
| 200.56.88.64  | 200.56.88.65        | 200.56.88.95      | 200.56.88.94       |
| 200.56.88.96  | 200.56.88.97        | 200.56.88.127     | 200.56.88.126      |
| 200.56.88.128 | 200.56.88.129       | 200.56.88.159     | 200.56.88.158      |
| 200.56.88.160 | 200.56.88.161       | 200.56.88.191     | 200.56.88.190      |
| 200.56.88.192 | 200.56.88.193       | 200.56.88.223     | 200.56.88.222      |
| 200.56.88.224 | 200.56.88.225       | 200.56.88.255     | 200.56.88.254      |

A. 200.56.88.68: in differnt subnet (200.56.88.64/27)
B. 200.56.88.104: eight valid address in 200.56.88.96/27
C. 200.56.88.97: first valid address in 200.56.88.96/27
**D. 200.56.88.100**

7.  Your system has an IP address of 138.97.25.10/20. Which of the following is a system on your network?

138.97.25.10 is Class B network, so class B's default subnet mask is /16 so /20 is divided by 16 subnets. increments are 16 (0, 16, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240).

So 138.97.25.10 is included in 138.97.16.0/20 network. In this network, broadcast address is 138.97.31.255.

A. 138.97.56.8: in 138.97.0.0/20
**B. 138.97.17.10**
C. 138.97.15.77: in 138.97.0.0/20
D. 138.97.33.76: in 138.97.32.0/20

8.  Which of the following is an example of CIDR notation?

A. 16/10.34.56.78
B. 10.34.56.78
C. 10.34.56.0
**D. 10.34.56.78/16**

9.  Your router has an IP address of 216.83.11.65/27. You want to connect a new system on the network. Which of the following addresses would you assign to that new system?

216.x.x.x is class C network. Class C network has default subnet mask of 255.255.255.0 (/24). /27 indicates this network divided into eight networks. increments are 32 (0, 32, 64, 96, 128, 160, 192, 224)

216.83.11.65 is in 216.83.11.64/27 networks. In this network, broadcast address is 216.83.11.93.

A. 216.83.11.45: 216.83.11.32/27
**B. 216.83.11.87**: 216.83.11.64/27
C. 216.83.11.95: 216.83.11.64/27, broadcast address
D. 216.83.11.96: 216.83.11.96/27, network ID

10.  You are configuring the gigabit interface on the Cisco router with the last valid IP address of the 131.107.48.0/20 network. What address would you use?

131.x.x.x is class B network. Class B network has default subnet mask of 255.255.0.0 (/16). /20 indicates this network divided into 16 subnets. Increments are 16 (0, 16, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240).

A. 131.107.48.254: 131.107.48.0/20
B. 131.107.255.254: 131.107.240.0/20
C. 131.107.64.254: 131.107.64.0/20
**D. 131.107.63.254**: 131.107.48.0/20, last valid

11. You are helping a junior administrator to understand the IP addressing scheme used on your network. You have subnetted your network to support 16 subnets with the address scheme of 200.15.36.0/28. Looking at the different addresses listed on the left side of the following exhibit, identify if the address is a broadcast address, network ID, or host address.

200.x.x.x is Class C network. Class C network ahs default subnet mask of 255.255.255.0 (/24).
Increments are 16 (0, 16, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240).

| Network ID    | First Valid Address | Broadcast Address | Last Valid Address |
| ------------- | ------------------- | ----------------- | ------------------ |
| 200.15.36.0   | 200.15.36.1         | 200.15.36.15      | 200.15.36.14       |
| 200.15.36.16  | 200.15.36.17        | 200.15.36.31      | 200.15.36.30       |
| 200.15.36.32  | 200.15.36.33        | 200.15.36.47      | 200.15.36.46       |
| 200.15.36.48  | 200.15.36.49        | 200.15.36.63      | 200.15.36.62       |
| 200.15.36.64  | 200.15.36.65        | 200.15.36.79      | 200.15.36.78       |
| 200.15.36.80  | 200.15.36.81        | 200.15.36.95      | 200.15.36.94       |
| 200.15.36.96  | 200.15.36.97        | 200.15.36.111     | 200.15.36.110      |
| 200.15.36.112 | 200.15.36.113       | 200.15.36.127     | 200.15.36.125      |
| 200.15.36.128 | 200.15.36.129       | 200.15.36.143     | 200.15.36.142      |
| 200.15.36.144 | 200.15.36.145       | 200.15.36.159     | 200.15.36.158      |
| 200.15.36.160 | 200.15.36.161       | 200.15.36.175     | 200.15.36.174      |
| 200.15.36.176 | 200.15.36.177       | 200.15.36.191     | 200.15.36.190      |
| 200.15.36.192 | 200.15.36.193       | 200.15.36.207     | 200.15.36.206      |
| 200.15.36.208 | 200.15.36.209       | 200.15.36.223     | 200.15.36.222      |
| 200.15.36.224 | 200.15.36.225       | 200.15.36.239     | 200.15.36.238      |
| 200.15.36.240 | 200.15.36.241       | 200.15.36.255     | 200.15.36.254      |

![[Pasted image 20251127141634.png]]

* **Broadcast Address**
	* 200.15.36.79
	* 200.15.36.31
* **Network ID**
	* 200.15.36.16
	* 200.15.36.48
* **Host Address**
	* 200.15.36.22
	* 200.15.36.60
